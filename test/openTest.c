#include "syscall.h"
#include "stdio.h"

int main() {

		int fd, i;
		
		printf("Remember slots 0, 1 are occupied by stdin, stdout\n");
		
		fd = creat("File");
		printf("File created in slot %d\n", fd);

        for( i = 0; i < 20; ++i ) {
                fd = open( "File" );
                if( fd < 0 )
                        printf("File %d falied to open.\n",fd);
                else
                	printf("File %d opened\n", fd);
        }
		printf("------------------\n");
		for (i = 15; i >= 0; i--) {
			printf("Trying to close %d\n", i);
			if (close(i) == 0) 
				printf("File %d closed.\n", i);
			else 
				printf("Cannot close %d\n", i);
		}
        return 0;
} 
